---
layout: post
title: "「関連」のモデリングの違いを整理する"
date: 2005-05-22 20:10
comments: true
categories: [Engineer-Soul]
keywords: "モデリング,概念モデリング,UML,関連,多重度,整理"
tags: []
author: hamasyou
amazon_url: ""
amazon_author: ""
amazon_image: ""
amazon_publisher: ""
---

<p>
[ target="_blank"><img src="http://images-jp.amazon.com/images/P/4822221180.09.MZZZZZZZ.jpg"   border="0" alt="UMLモデリングの本質" />](http://www.amazon.co.jp/exec/obidos/ASIN/4822221180/sorehabooks-22/249-4688781-9575529?%5Fencoding=UTF8&camp=247&link%5Fcode=xm2)
</p>

概念モデリングでは、「<strong>関連</strong>」と「<strong>多重度</strong>」がモデルを読むときに大切な要素となります。

関連は、あるエンティティとエンティティを結ぶ線のことです。しかし、今回は、もう一歩進んだ関連の使い方である、「<strong>関連の属性のクラス</strong>」と「<strong>関連のクラス</strong>」の違いを整理したいと思います。

もう一つの目的として、「多重度」の見方も整理したいと思います。「<strong>種類(品目)と物(特定品目)</strong>」の多重度の違いを理解できればと思います。

<section>

<h4>参考</h4>

[ target="_blank" class="extlink">設計者の発言「「関連クラス」をデータモデルで解き明かす（前編）」](http://watanabek.cocolog-nifty.com/blog/2005/04/post_554e.html)

[ target="_blank" class="extlink">設計者の発言「「関連クラス」をデータモデルで解き明かす（後編）」](http://watanabek.cocolog-nifty.com/blog/2005/04/post_6405.html)

</section>


<!-- more -->

<h2>関連</h2>

「関連の属性のクラス」と「関連のクラス」の違いは2つあります。

<ol><li>表記が違う</li><li>インスタンスの制約が違う</li></ol>

<h3>関連の属性のクラス</h3>

「関連の属性のクラス」は関連に属性を持たせるために導き出したクラスのことです。

<img src="http://hamasyou.com/images/modeling/relation_class.gif" alt="関連の属性のクラス" />

この例では、新幹線と駅との間に「停車する」という関連が引かれています。「停車する」という関連に属性「発車時刻」と「停車時刻」を持たせたいために、「停車する」という関連の属性のクラスを導き出しました。

この「関連の属性のクラス」では、<em>同じ新幹線と駅の組み合わせは一つだけ</em>しか作ることができません。

<img src="http://hamasyou.com/images/modeling/relation_object.gif" alt="関連の属性のクラスのオブジェクト図" />

<h3>関連のクラス</h3>

これに対して「関連のクラス」は、いわゆる「<strong>モノ-こと-モノ</strong>」のパターンで関連をクラスとして表現したものです。

<img src="http://hamasyou.com/images/modeling/class_of_relation.gif" alt="関連のクラス" />

この「関連のクラス」は、同じモノ-モノの組み合わせをいくつも作ることができます。

<img src="http://hamasyou.com/images/modeling/class_of_relation_object.gif" alt="関連のクラスのオブジェクト図" />

この例では、同じ生徒が同じ履修項目を取ることが出来るようになります。この「関連のクラス」は<b class="red">履歴をとる場合によくつかわれます</b>。

<h2>多重度</h2>

『[ target="_blank" class="extlink">ストリームラインオブジェクトモデリング](http://www.amazon.co.jp/exec/obidos/ASIN/4894715775/sorehabooks-22/249-4688781-9575529?%5Fencoding=UTF8&camp=247&link%5Fcode=xm2)』に「<strong>品目-特定品目</strong>」というパターンが載っています。これは、いわゆる「<strong>種類と物</strong>」の関係です。

品目(種類)と言うのは、例えばビデオレンタル屋のビデオのタイトルなどになります。それに対して特定品目(物)は貸し出すビデオになります。他の例では、ファーストフード店のメニュー(ハンバーガーやポテト、ドリンク)は品目、出てきた商品は特定品目(物)になります。

概念モデリングの世界では、<strong>品目(種類)なのか、特定品目(物)なのかを区別することが非常に重要</strong>です。多くの場合、高価なものは特定品目(物)として扱うことが多いようです。

<img src="http://hamasyou.com/images/modeling/barger_class.gif" alt="ファーストフード店のメニュークラス図" />

コレは、あるファーストフード店の単品メニューとセットメニューのクラス図とオブジェクト図になります。単品メニューとセットメニューの多重度は「多対多」になっています。オブジェクト図を見ると、こんな関係になります。

あれ？味噌汁のインスタンスが別々のセットメニューと関係を持っています。味噌汁は、一つのセットにしか含まれないはずでは？別々のセットメニューに味噌汁が含まれるって、どういうこと？
これは、モデリングの知識がある人は、「味噌汁は品目(種類)だから、概念上は別々のセットメニューに含められる」とわかります。

「味噌汁一つのインスタンスは、セットメニュー一つと関係を持つ」と考えると、味噌汁インスタンスは複数のメニューには含まれないような気がします。でも、ここが「<strong>品目(種類)と特定品目(物)</strong>」のややこしいところです。

特定品目(物)は確かに「このインスタンス一つにつき・・・」と考えます。しかし、品目(種類)は、「このインスタンス品目は・・・」と考えなければなりません。

品目(種類)と特定品目(物)をしっかり区別して、集合論で物を捕らえることこそ、概念モデリングの重要な点と言えるでしょう。

<h2>参考</h2>

+ 概念モデリングで良く使うパターンを学ぶのに最適
<div class="rakuten"><table width=400 border="0" cellpadding="5"><tr><td colspan="2"  class="g-tools_title">[ target="_blank">ストリームラインオブジェクトモデリング―パターンとビジネスルールによるUML](http://www.amazon.co.jp/exec/obidos/ASIN/4894715775/sorehabooks-22/)</td></tr><tr><td class="g-tools_img" valign="top">[ target="_blank"><img src="http://images.amazon.com/images/P/4894715775.09._SCMZZZZZZZ_.jpg"   border="0" alt="4894715775" />](http://www.amazon.co.jp/exec/obidos/ASIN/4894715775/sorehabooks-22/)</td><td valign="top"  class="g-tools_body" /><font size="-1">ジル ニコラ マイク アベニー マーク メイフィールド Jill Nicola<br /><br /><iframe scrolling="no" frameborder="0" width="200" height="40" hspace="0" vspace="0" marginheight="0" marginwidth="0" src="http://webservices.amazon.co.jp/onca/xml?Service=AWSECommerceService&SubscriptionId=0G91FPYVW6ZGWBH4Y9G2&AssociateTag=goodpic-22&Operation=ItemLookup&IdType=ASIN&ContentType=text/html&Page=1&ResponseGroup=Offers&ItemId=4894715775&Version=2004-10-04&Style=http://www.g-tools.net/xsl/priceFFFFFF.xsl"></iframe><br /><strong>おすすめ平均  </strong><img src="http://g-images.amazon.com/images/G/01/detail/stars-4-5.gif"   border="0" alt="star" /><br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif"   border="0" alt="star" />ドメインモデリングの方法論を明快に説明<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif"   border="0" alt="star" />モデリングの基本が身に付く<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif"   border="0" alt="star" />オブジェクト思考(指向ではない)業務分析<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-4-0.gif"   border="0" alt="star" />ミクロな頻出モデルをたくさん紹介<br /><br />[ target="_blank" />Amazonで詳しく見る](http://www.amazon.co.jp/exec/obidos/ASIN/4894715775/sorehabooks-22/)</font><font size="-2"> by [ >G-Tools](http://www.goodpic.com/mt/aws/index.html)</font></td></tr></table></div>

+ モデリングパターンの王道。ただし、かなり難しいです。
<div class="rakuten"><table width=400 border="0" cellpadding="5"><tr><td colspan="2"  class="g-tools_title">[ target="_blank">アナリシスパターン―再利用可能なオブジェクトモデル](http://www.amazon.co.jp/exec/obidos/ASIN/4894716933/sorehabooks-22/)</td></tr><tr><td class="g-tools_img" valign="top">[ target="_blank"><img src="http://images.amazon.com/images/P/4894716933.09._SCMZZZZZZZ_.jpg"   border="0" alt="4894716933" />](http://www.amazon.co.jp/exec/obidos/ASIN/4894716933/sorehabooks-22/)</td><td valign="top"  class="g-tools_body" /><font size="-1">マーチン ファウラー Martin Fowler 堀内 一 友野 晶夫<br /><br /><iframe scrolling="no" frameborder="0" width="200" height="40" hspace="0" vspace="0" marginheight="0" marginwidth="0" src="http://webservices.amazon.co.jp/onca/xml?Service=AWSECommerceService&SubscriptionId=0G91FPYVW6ZGWBH4Y9G2&AssociateTag=goodpic-22&Operation=ItemLookup&IdType=ASIN&ContentType=text/html&Page=1&ResponseGroup=Offers&ItemId=4894716933&Version=2004-10-04&Style=http://www.g-tools.net/xsl/priceFFFFFF.xsl"></iframe><br /><strong>おすすめ平均  </strong><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif"   border="0" alt="star" /><br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif"   border="0" alt="star" />よい本ですね<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif"   border="0" alt="star" />「オブジェクト」指向モデリングの導き手<br /><br />[ target="_blank" />Amazonで詳しく見る](http://www.amazon.co.jp/exec/obidos/ASIN/4894716933/sorehabooks-22/)</font><font size="-2"> by [ >G-Tools](http://www.goodpic.com/mt/aws/index.html)</font></td></tr></table></div>

+ アナリシスパターンが読みこなせなかった人はここから始めましょう
<div class="rakuten"><table width=400 border="0" cellpadding="5"><tr><td colspan="2"  class="g-tools_title">[ target="_blank">UMLモデリングの本質](http://www.amazon.co.jp/exec/obidos/ASIN/4822221180/sorehabooks-22/)</td></tr><tr><td class="g-tools_img" valign="top">[ target="_blank"><img src="http://images.amazon.com/images/P/4822221180.09._SCMZZZZZZZ_.jpg"   border="0" alt="4822221180" />](http://www.amazon.co.jp/exec/obidos/ASIN/4822221180/sorehabooks-22/)</td><td valign="top"  class="g-tools_body" /><font size="-1">児玉 公信<br /><br /><iframe scrolling="no" frameborder="0" width="200" height="40" hspace="0" vspace="0" marginheight="0" marginwidth="0" src="http://webservices.amazon.co.jp/onca/xml?Service=AWSECommerceService&SubscriptionId=0G91FPYVW6ZGWBH4Y9G2&AssociateTag=goodpic-22&Operation=ItemLookup&IdType=ASIN&ContentType=text/html&Page=1&ResponseGroup=Offers&ItemId=4822221180&Version=2004-10-04&Style=http://www.g-tools.net/xsl/priceFFFFFF.xsl"></iframe><br /><strong>おすすめ平均  </strong><img src="http://g-images.amazon.com/images/G/01/detail/stars-4-5.gif"   border="0" alt="star" /><br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-3-0.gif"   border="0" alt="star" />チャレンジングな本<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif"   border="0" alt="star" />UMLモデリングの窓から見た情報システム工学の展望<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif"   border="0" alt="star" />モデリングについて説得力のある解説が多々あります。<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-4-0.gif"   border="0" alt="star" />この本を手がかりに、自分でやってみよう！<br /><img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif"   border="0" alt="star" />これは「モデリング本」です。<br /><br />[ target="_blank" />Amazonで詳しく見る](http://www.amazon.co.jp/exec/obidos/ASIN/4822221180/sorehabooks-22/)</font><font size="-2"> by [ >G-Tools](http://www.goodpic.com/mt/aws/index.html)</font></td></tr></table></div>




